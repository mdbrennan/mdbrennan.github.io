!function(a,b){a.widget("mbrennan.navScroll",{options:{speed:"1500",header:0},_create:function(){var a=this;a.install()},install:function(){var c=this,d=(c.options,c.element),e=a("[data-scroll-section="+a(d).data("scroll-nav")+"]"),f={name:a(d).data("scroll-nav"),element:d,section:e,top:e.offset().top,height:e.height()};c.anchorPoints.push(f),console.log(f),c._on(d,{click:c.clickScroll}),c._on(b,{scroll:c.watchScroll})},anchorPoints:[],clickScroll:function(c){var d=this,e=d.options;c.preventDefault();var f=a("[data-scroll-section="+a(c.currentTarget).data("scroll-nav")+"]").position().top;a("body,html").animate({scrollTop:f},e.speed||"default","easeOutCubic",function(){b.location.hash=a(c.target).attr("href")})},watchScroll:function(){for(var c=this,d=c.options,e=a(b).scrollTop(),f=c.anchorPoints,g=0;g<f.length;g++)e>=f[g].top-d.header&&e<f[g].top+f[g].height-d.header?(a(".scroll-active").removeClass("scroll-active"),a(f[g].element).addClass("scroll-active"),a(f[g].section).addClass("scroll-active")):e<d.header&&a(".scroll-active").removeClass("scroll-active")},resizePanels:function(){console.log("resize");for(var a=this,b=a.anchorPoints,c=0;c<b.length;c++)b[c].top=b[c].section.offset().top,b[c].height=b[c].section.height();console.log(b)}});var c=a.fn.navScroll;a.fn.navScroll=function(b){return a.extend(b,{selector:this.selector}),c.apply(this,arguments)}}(jQuery,window,document);